<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Thu Jan 11 00:16:22 EET 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>BundleComponents (Fluid Tools 1.0.0-SNAPSHOT API)</title>
<meta name="date" content="2018-01-11">
<link rel="stylesheet" type="text/css" href="../../../../javadoc-1.8.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BundleComponents (Fluid Tools 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BundleComponents.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a href="https://github.com/aqueance/fluid-tools.git"><b>Fluid Tools</b></a> 1.0.0-SNAPSHOT<br/><a style="text-align: right;" href="../../../../resources/license.html">Source Code License</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/fluidity/deployment/osgi/BundleBoundary.html" title="interface in org.fluidity.deployment.osgi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html" title="interface in org.fluidity.deployment.osgi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/fluidity/deployment/osgi/BundleComponents.html" target="_top">Frames</a></li>
<li><a href="BundleComponents.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.fluidity.deployment.osgi</div>
<h2 title="Interface BundleComponents" class="title">Interface BundleComponents</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">BundleComponents</span></pre>
<div class="block">Bundle components with managed life cycle. Managed components can do any combination of the followings simply by implementing one or more interfaces:<ul>
 <li>declare dependencies on <a href="../../../../org/fluidity/deployment/osgi/Service.html" title="annotation in org.fluidity.deployment.osgi">OSGi services</a> and
 <ul>
 <li>get instantiated and <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html#start--">started</a> when all those services become available</li>
 <li>get <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Stoppable.html#stop--">stopped</a> and discarded when any of those services become unavailable</li>
 </ul>
 </li>
 <li>get registered as <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.html" title="interface in org.fluidity.deployment.osgi">OSGi service</a></li>
 <li>get notified when certain OSGi services become <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.Listener.html#serviceAdded-T-java.util.Properties-">available</a> and
 <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.Listener.html#serviceRemoved-T-">unavailable</a></li>
 </ul>
 This container automatically finds, loads, and manages all implementations of the <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html" title="interface in org.fluidity.deployment.osgi"><code>Managed</code></a> interface visible to its class loader, which is
 the OSGi bundle class loader. Implementations of the <code>Managed</code> interface include more specific components that implement <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.html" title="interface in org.fluidity.deployment.osgi"><code>Registration</code></a> and <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.Listener.html" title="interface in org.fluidity.deployment.osgi"><code>Registration.Listener</code></a>.
 <p>
 By design, you never directly use this interface. Rather, you implement your bundle as a collection of components managed by this container.
 <p>
 <b>Note</b>: Managed components cannot consume or transmit component context. Each bundle will have exactly zero or one instance of every managed component
 in the empty context and their dependency references will have an empty base context.
 <h3>Depending on OSGi Services</h3>
 The dependencies of <code>Managed</code> components annotated with the <a href="../../../../org/fluidity/deployment/osgi/Service.html" title="annotation in org.fluidity.deployment.osgi"><code>@Service</code></a> are dependencies to OSGi services while parameters not so
 annotated are ordinary dependencies.
 <p>
 When all of the OSGi services depended on, directly or indirectly through other <code>Managed</code> components, become available, the component is
 instantiated and its <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html#start--"><code>start()</code></a> method is invoked to start the component. The <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Stoppable.html#stop--"><code>stop()</code></a> method of the component
 will be invoked when any of those OSGi services becomes unavailable and then the component instance is discarded.
 <p>
 An OSGi service referenced as a Java interface will be able to see classes in the local OSGi bundle as well as the bundle that exports it.
 <h4>Example</h4>
 <pre>
 final class <span class="hl2">MyComponent</span> implements <span class="hl1">BundleComponents.Managed</span> {

   <span class="hl2">MyComponent</span>(final <a href="../../../../org/fluidity/deployment/osgi/Service.html" title="annotation in org.fluidity.deployment.osgi">@Service</a> SomeService service, final SomeDependency dependency) {
     &hellip;
   }

   public void <span class="hl1">start</span>() throws Exception {
     &hellip;
   }

   public void <span class="hl1">stop</span>() throws Exception {
     &hellip;
   }

   &hellip;
 }
 </pre>
 <h3>Getting Registered as OSGi Service</h3>
 <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.html" title="interface in org.fluidity.deployment.osgi"><code>BundleComponents.Registration</code></a> components are <code>Managed</code> components that are registered as OSGi services when all OSGi services they depend on become
 available, and get unregistered when any of those become unavailable.
 <h4>Example</h4>
 <pre>
 final class <span class="hl2">MyComponent</span> implements <span class="hl1">BundleComponents.Registration</span> {

   <span class="hl2">MyComponent</span>(final <a href="../../../../org/fluidity/deployment/osgi/Service.html" title="annotation in org.fluidity.deployment.osgi">@Service</a> SomeService service, final SomeDependency dependency) {
     &hellip;
   }

   &hellip;
 }
 </pre>
 <h3>Notification about OSGi Service Registrations</h3>
 <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.Listener.html" title="interface in org.fluidity.deployment.osgi"><code>BundleComponents.Registration.Listener</code></a> components are <code>Managed</code> components that receive notifications about OSGi service registration events via the
 <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.Listener.html#serviceAdded-T-java.util.Properties-"><code>serviceAdded()</code></a> method and un-registration events via the <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.Listener.html#serviceRemoved-T-"><code>serviceRemoved()</code></a> method.
 <h4>Example</h4>
 <pre>
 final class <span class="hl2">MyComponent</span> implements <span class="hl1">BundleComponents.Registration.Listener</span> {

   <span class="hl2">MyComponent</span>(final <a href="../../../../org/fluidity/deployment/osgi/Service.html" title="annotation in org.fluidity.deployment.osgi">@Service</a> SomeService service, final SomeDependency dependency) {
     &hellip;
   }

   &hellip;
 }
 </pre>
 <h3>Managed Component Status</h3>
 This container exports an implementations of the OSGi service <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Status.html" title="interface in org.fluidity.deployment.osgi"><code>BundleComponents.Status</code></a>. OSGi service clients can query that service about active, inactive and failed
 components managed by this container. The exported service uses the <code>bundle-symbolic-name</code> service property to distinguish these service
 instances from one another.
 <h4>Example</h4>
 This example shows how to use the exported service when there's only one bundle exporting it. If there may be multiple such bundles, it is better to
 implement the <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.Listener.html" title="interface in org.fluidity.deployment.osgi"><code>BundleComponents.Registration.Listener</code></a> interface and get notified about all exported service instances.
 <pre>
 final class <span class="hl3">MyComponent</span> implements <span class="hl2">BundleComponents.Registration</span> {

   private final <span class="hl1">BundleComponents.Status</span> status;

   <span class="hl3">MyComponent</span>(final <a href="../../../../org/fluidity/deployment/osgi/Service.html" title="annotation in org.fluidity.deployment.osgi">@Service</a> <span class="hl1">BundleComponents.Status</span> status) {
     this.status = status;
   }

   &hellip;

   public void check() {
       final Collection&lt;Class&lt;?&gt;&gt; failed = status.<span class="hl1">failedComponents</span>();
       &hellip;
   }
 }
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html" title="interface in org.fluidity.deployment.osgi">BundleComponents.Managed</a></span></code>
<div class="block">A managed component that will be discovered and added to the bundle's container.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Registration.html" title="interface in org.fluidity.deployment.osgi">BundleComponents.Registration</a></span></code>
<div class="block">An OSGi service that will be registered when <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html#start--">started</a> and un-registered when
 <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Stoppable.html#stop--">stopped</a> by its managing container.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Status.html" title="interface in org.fluidity.deployment.osgi">BundleComponents.Status</a></span></code>
<div class="block">OSGi service to query about managed component states in this bundle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Stoppable.html" title="interface in org.fluidity.deployment.osgi">BundleComponents.Stoppable</a></span></code>
<div class="block">Super-interface for the various <a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html" title="interface in org.fluidity.deployment.osgi">managed</a> component interfaces.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BundleComponents.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a href="https://github.com/aqueance/fluid-tools.git"><b>Fluid Tools</b></a> 1.0.0-SNAPSHOT<br/><a style="text-align: right;" href="../../../../resources/license.html">Source Code License</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/fluidity/deployment/osgi/BundleBoundary.html" title="interface in org.fluidity.deployment.osgi"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/fluidity/deployment/osgi/BundleComponents.Managed.html" title="interface in org.fluidity.deployment.osgi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/fluidity/deployment/osgi/BundleComponents.html" target="_top">Frames</a></li>
<li><a href="BundleComponents.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2018. All rights reserved.</small></p>
</body>
</html>
