<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Sat Aug 20 02:44:44 EEST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Configuration (Fluid Tools 1.0.0-SNAPSHOT API)</title>
<meta name="date" content="2016-08-20">
<link rel="stylesheet" type="text/css" href="../../../javadoc-1.8.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Configuration (Fluid Tools 1.0.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Configuration.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a href="https://github.com/aqueance/fluid-tools.git"><b>Fluid Tools</b></a> 1.0.0-SNAPSHOT<br/><a style="text-align: right;" href="../../../resources/license.html">Source Code License</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/fluidity/foundation/Command.Process.html" title="interface in org.fluidity.foundation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/fluidity/foundation/Configuration.Prefix.html" title="annotation in org.fluidity.foundation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/fluidity/foundation/Configuration.html" target="_top">Frames</a></li>
<li><a href="Configuration.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.fluidity.foundation</div>
<h2 title="Interface Configuration" class="title">Interface Configuration&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - the settings interface type to implement.</dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">Configuration&lt;T&gt;</span></pre>
<div class="block">Dependency injected component configuration. A component may have any number of such configurations, each for a different context and / or for a different
 settings interface.
 <p>
 The configuration is backed by a <a href="../../../org/fluidity/foundation/spi/PropertyProvider.html" title="interface in org.fluidity.foundation.spi">property provider</a> component that, if implemented, will be queried for data. The properties
 queried are determined by <a href="../../../org/fluidity/foundation/Configuration.Prefix.html" title="annotation in org.fluidity.foundation">context qualifiers</a> of the configured component up to the point of its dependency reference.
 <h3>Usage</h3>
 A configuration is a group of settings consumed by the configured component. The settings are defined by the methods of a custom <em>settings
 interface</em>, which is specified as the type parameter of the <code>Configuration</code> interface.
 <p>
 For instance:
 <pre>
 // The settings interface
 interface <span class="hl2">MySettings</span> {

   <span class="hl1"><a href="../../../org/fluidity/foundation/Configuration.Property.html" title="annotation in org.fluidity.foundation">@Configuration.Property</a></span>(<span class="hl1">key</span> = "<span class="hl3">property.%d</span>", <span class="hl1">undefined</span> = "default value <span class="hl3">%d</span>")
   String <span class="hl2">property</span>(<span class="hl3">int</span> item);

   &hellip;
 }
 </pre>
 <pre>
 // The configured component
 <a href="../../../org/fluidity/composition/Component.html" title="annotation in org.fluidity.composition">@Component</a>
 <span class="hl1"><a href="../../../org/fluidity/foundation/Configuration.Prefix.html" title="annotation in org.fluidity.foundation">@Configuration.Prefix</a></span>(<span class="hl3">"some.property"</span>)
 public final class MyComponent {

   MyComponent(final <span class="hl1"><a href="../../../org/fluidity/foundation/Configuration.Prefix.html" title="annotation in org.fluidity.foundation">@Configuration.Prefix</a></span>(<span class="hl3">"prefix"</span>) <span class="hl1">Configuration</span><span class="hl2">&lt;MySettings&gt;</span> configuration) {
     final <span class="hl2">MySettings</span> settings = configuration<span class="hl1">.settings()</span>;

     // query <span class="hl3">"some.property</span>.<span class="hl3">prefix</span>.<span class="hl3">property.123"</span> from the optional <a href="../../../org/fluidity/foundation/spi/PropertyProvider.html" title="interface in org.fluidity.foundation.spi">PropertyProvider</a> component
     final String property123 = settings.<span class="hl2">property</span>(<span class="hl3">123</span>);

     &hellip;
   }

   &hellip;
 }
 </pre>
 <h4>Query Methods</h4>
 A settings interface like the above must have all of its methods annotated with <a href="../../../org/fluidity/foundation/Configuration.Property.html" title="annotation in org.fluidity.foundation"><code>@Configuration.Property</code></a>, must have a
 <a href="#supported_types">supported return type</a>, and the methods may have any number of arguments.
 <p>
 The given <a href="../../../org/fluidity/foundation/Configuration.Property.html#key--"><code>property keys</code></a> are understood to be relative to the dot delimited concatenation of the value of each <a href="../../../org/fluidity/foundation/Configuration.Prefix.html" title="annotation in org.fluidity.foundation"><code>@Configuration.Prefix</code></a> annotation in the dependency path of the configured component.
 <p>
 If the computed property has no value in the underlying property provider, the first context is stripped and the new property is queried, and this process
 is repeated until the property provider returns a value or there is no more context to strip, then the last context is stripped from the original property
 and the new property is queried, and the process is repeated again.
 <p>
 For instance, if the the dependency path contains <code>@Configuration.Prefix("a")</code>, <code>@Configuration.Prefix("b")</code>, and
 <code>@Configuration.Prefix("c")</code>, then the method <code>@Configuration.Property(key = "property") String property()</code> will query the following
 properties, in the given order, from its underlying property provider until it returns a value or there is no more context to strip:
 <ul>
 <li><code>a.b.c.property</code></li>
 <li><code>b.c.property</code></li>
 <li><code>c.property</code></li>
 <li><code>a.b.property</code></li>
 <li><code>a.property</code></li>
 <li><code>property</code></li>
 </ul>
 <p>
 Query methods may have parameters that provide values to placeholders in the property key, as shown in the method definition for <code>property</code>
 above.
 <h4>Property Values</h4>
 The snapshot of the configuration settings above works with an optional <a href="../../../org/fluidity/foundation/spi/PropertyProvider.html" title="interface in org.fluidity.foundation.spi"><code>PropertyProvider</code></a> and an optional implementation of the settings interface
 itself, which in the above example was <code>MySettings</code>.
 <p>
 The value returned by the configuration snapshot is computed as follows, in the given order:
 <ol>
 <li>If a <code>PropertyProvider</code> component is found, it is queried for the property key specified in the method's <a href="../../../org/fluidity/foundation/Configuration.Property.html" title="annotation in org.fluidity.foundation"><code>@Configuration.Property</code></a> annotation, with contextual prefixes added and stripped as described above. If the result is not
 <code>null</code>, it is returned.</li>
 <li>If a component bound to the settings interface has been implemented, the method invoked on the snapshot is forwarded to the settings implementation. If
 a result is not <code>null</code>, it is returned.</li>
 <li>The <a href="../../../org/fluidity/foundation/Configuration.Property.html#undefined--"><code>undefined</code></a> parameter is checked. If it is not empty, it is returned, otherwise <code>null</code> is
 returned for non primitive types and the default value is returned for primitive types.</li>
 </ol>
 <h3><a name="supported_types">Supported Return Types</a></h3>
 <ul>
 <li><code>String</code></li>
 <li>Primitive Java type, such as <code>int</code></li>
 <li>Boxed primitive Java type, such as <code>Long</code></li>
 <li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Enum.html?is-external=true" title="class or interface in java.lang"><code>Enum</code></a> type</li>
 <li>Array of any supported type</li>
 <li><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util"><code>List</code></a> of any supported type</li>
 <li><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util"><code>Set</code></a> of any supported type</li>
 <li><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util"><code>Map</code></a> of any supported types</li>
 <li>Any accessible interface with methods annotated with @<code>Configuration.Property</code></li>
 <li>Any accessible class with fields annotated with @<code>Configuration.Property</code></li>
 <li>Any combination of the above</li>
 </ul>
 <h4>Custom Types</h4>
 The configuration implementation supports both interfaces with query methods and classes with fields as return values from the settings interface. There are
 a few key differences between the two and you need to choose the one that fits your use of the property data.
 <p>
 A custom interface:
 <ul>
 <li>allows method parameters to vary the property queried for a given method,</li>
 <li>is given the default <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">object identity</a>,</li>
 <li>may return a different value at different times if accessed outside the <a href="../../../org/fluidity/foundation/Configuration.Query.html#run-P-"><code>Configuration.Query.read()</code></a>
 method.</li>
 </ul>
 In contrast, a custom class:
 <ul>
 <li>provides no means to vary at run time the property queried for a given field,</li>
 <li>honours the equality defined by its <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang"><code>equals()</code></a> method,</li>
 <li>will have the same property value in its fields regardless of when they are accessed (until you change those values, of course).</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/fluidity/foundation/Configuration.Prefix.html" title="annotation in org.fluidity.foundation">Configuration.Prefix</a></span></code>
<div class="block">Provides a component context for a <a href="../../../org/fluidity/foundation/Configuration.html" title="interface in org.fluidity.foundation"><code>Configuration</code></a> dependency.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/fluidity/foundation/Configuration.Property.html" title="annotation in org.fluidity.foundation">Configuration.Property</a></span></code>
<div class="block">Annotates a configuration query method to specify what property to query, what default value to return if the property is not defined, and how to
 process list and map typed configuration values.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/fluidity/foundation/Configuration.PropertyException.html" title="class in org.fluidity.foundation">Configuration.PropertyException</a></span></code>
<div class="block">Adds a more descriptive error message to exceptions that occur while loading properties and converting them to settings.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/fluidity/foundation/Configuration.Query.html" title="interface in org.fluidity.foundation">Configuration.Query</a>&lt;<a href="../../../org/fluidity/foundation/Configuration.Query.html" title="type parameter in Configuration.Query">R</a>,<a href="../../../org/fluidity/foundation/Configuration.Query.html" title="type parameter in Configuration.Query">P</a>&gt;</span></code>
<div class="block">Groups <a href="../../../org/fluidity/foundation/Configuration.html" title="interface in org.fluidity.foundation"><code>configuration</code></a> queries to provide settings consistency.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;R</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/fluidity/foundation/Configuration.html#query-org.fluidity.foundation.Configuration.Query-">query</a></span>(<a href="../../../org/fluidity/foundation/Configuration.Query.html" title="interface in org.fluidity.foundation">Configuration.Query</a>&lt;R,<a href="../../../org/fluidity/foundation/Configuration.html" title="type parameter in Configuration">T</a>&gt;&nbsp;query)</code>
<div class="block">Provides consistent access to the configuration settings.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../org/fluidity/foundation/Configuration.html" title="type parameter in Configuration">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/fluidity/foundation/Configuration.html#settings--">settings</a></span>()</code>
<div class="block">Returns an object implementing the settings interface.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="settings--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>settings</h4>
<pre><a href="../../../org/fluidity/foundation/Configuration.html" title="type parameter in Configuration">T</a>&nbsp;settings()</pre>
<div class="block">Returns an object implementing the settings interface. Methods of the returned settings implementation go straight to the underlying <a href="../../../org/fluidity/foundation/spi/PropertyProvider.html" title="interface in org.fluidity.foundation.spi"><code>PropertyProvider</code></a>, if any, to resolve property values and thus may return different values at different times.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an object implementing the settings interface.</dd>
</dl>
</li>
</ul>
<a name="query-org.fluidity.foundation.Configuration.Query-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>query</h4>
<pre>&lt;R&gt;&nbsp;R&nbsp;query(<a href="../../../org/fluidity/foundation/Configuration.Query.html" title="interface in org.fluidity.foundation">Configuration.Query</a>&lt;R,<a href="../../../org/fluidity/foundation/Configuration.html" title="type parameter in Configuration">T</a>&gt;&nbsp;query)</pre>
<div class="block">Provides consistent access to the configuration settings. The methods of the settings object sent to the provided <code>query</code> will return the same
 value from multiple invocations during the execution of this method as long as the <a href="../../../org/fluidity/foundation/spi/PropertyProvider.html#properties-org.fluidity.foundation.spi.PropertyProvider.Query-"><code>PropertyProvider.properties()</code></a> method of the underlying property provider, if found, properly implements that consistency.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - the return type of the query.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - the object to supply the settings implementation to.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whatever the supplied <code>query</code> returns.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Configuration.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><a href="https://github.com/aqueance/fluid-tools.git"><b>Fluid Tools</b></a> 1.0.0-SNAPSHOT<br/><a style="text-align: right;" href="../../../resources/license.html">Source Code License</a></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/fluidity/foundation/Command.Process.html" title="interface in org.fluidity.foundation"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/fluidity/foundation/Configuration.Prefix.html" title="annotation in org.fluidity.foundation"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/fluidity/foundation/Configuration.html" target="_top">Frames</a></li>
<li><a href="Configuration.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2006&#x2013;2016. All rights reserved.</small></p>
</body>
</html>
